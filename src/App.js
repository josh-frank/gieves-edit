import './App.css';

import { useEffect } from 'react';

import { useDispatch, useSelector } from 'react-redux';
import { addShape } from './redux/shapesSlice';
import { toggleDark, zoomInButton, zoomOutButton } from './redux/artboardSlice';

import Artboard from './components/Artboard';
import MainMenu from './components/menus/MainMenu';
import ArtboardMenu from './components/menus/ArtboardMenu';

const testShapes = [
  "m 50,50 l 100,0 l 0,100 l -100,0 z",
  "m 300 300 a 50 50 90 1 1 100 0 a 50 50 90 1 1 -100 0 z",
  "m 744 136 h -202 c -10 0 -18 8 -18 18 h 238 c 0 -10 -8 -18 -18 -18 z",
  "m 240 200 v -20 a 20 20 90 1 1 40 40 l -40 -20 z",
  "m 80 508 s 70 -54 60 -138 s 66 -98 150 -50 z",
  "m 628 356 l 192 -224 l 96 -32 l -32 96 l -224 192 c 32 32 32 64 64 30 c 0 32 32 64 0 64 a 45.44 45.44 90 0 1 -32 32 a 160 160 90 0 0 -64 -96 q -16 -3.2 -16 16 t -48 41.6 t -25.6 -25.6 t 41.6 -48 t 16 -16 a 160 160 90 0 0 -96 -64 a 45.44 45.44 90 0 1 32 -32 c 0 -32 32 0 64 0 c -32 32 0 32 32 66 l 192 -224 l 0 64 l 64 0 l -57.6 -6.4 l -6.4 -57.6 z"
];

// const elnaGrasshopper = [
//   'M371.899,67.882h-101c-4.95,0-9,4.05-9,9h119C380.899,71.932,376.849,67.882,371.899,67.882z',
//   'M117.935,71.548h4.928c2.505,0,4.536-2.031,4.536-4.536V49.084c0-2.505-5.495-3.036-8-3.036 c0,0-6,0.573-6,3.036v17.928C113.399,69.518,115.43,71.548,117.935,71.548z',
//   'M81.967,147.7v11.974c-3.193,0-5.941,4.806-7.225,11.738c-0.401-0.312-0.829-0.488-1.275-0.488 c-2.209,0-4,4.142-4,9.25c0,5.108,1.791,9.25,4,9.25c0.446,0,0.875-0.177,1.275-0.489c1.283,6.933,4.031,11.739,7.225,11.739v12.43 c0,2.377,1.928,4.306,4.306,4.306s4.306-1.928,4.306-4.306V79.517c0-2.379-1.928-4.307-4.306-4.307s-4.306,1.928-4.306,4.307v64.318 ',
//   'M120.102,268.549',
//   'M122.898,255.882',
//   'M122.898,272.882h-6.999c-0.261,0-0.507,0.05-0.745,0.119c-0.228-3.635-0.927-6.285-1.755-6.285 c-1.013,0-1.833,3.956-1.833,8.833c0,4.878,0.821,8.833,1.833,8.833c0.829,0,1.528-2.649,1.755-6.284 c0.238,0.069,0.484,0.119,0.745,0.119h6.999v1.239c0,2.003,1.625,3.628,3.629,3.628h0.037v6.798h-4.129 c-2.505,0-4.536,2.032-4.536,4.537v2.595c0,2.505,2.031,4.536,4.536,4.536h4.928c2.505,0,4.536-2.031,4.536-4.536v-2.595 c0-1.837-1.097-3.411-2.667-4.124v-7.211h3.372c2.004,0,3.629-1.625,3.629-3.628V208.83c0-2.004-1.625-3.629-3.629-3.629h-6.076 c-2.004,0-3.629,1.625-3.629,3.629V272.882z',
//   'M148.232,276.716',
//   'M141.171,268.515c-0.329,0-0.637,0.149-0.917,0.398c-0.518-1.928-2.157-3.376-4.184-3.617l-0.354-0.06 v-44.401c0-0.438-0.355-0.793-0.793-0.793h-4.612c-0.438,0-0.793,0.354-0.793,0.793v44.401h-0.142c-2.738,0-4.958,2.221-4.958,4.959 v3.929c0,2.738,2.22,4.958,4.958,4.958h0.142v0.952h2.627l0.738,26.834l0.738-26.834h2.447v-1.011 c1.736-0.206,3.193-1.294,3.901-2.819c0.345,0.436,0.756,0.691,1.2,0.691c1.208,0,2.187-1.875,2.187-4.189 C143.358,270.392,142.379,268.515,141.171,268.515z',
//   'M539.732,425.548h-36.333c-2.475,0-4.5-2.025-4.5-4.5v-275.75c5.996-0.844,5.997-3.537,5.997-3.537 c0-0.18-0.463-18.915-10.774-37.963c-9.035-16.689-27.434-36.584-63.773-36.584c0,0-21.221-0.375-31.714,4.558 c-0.597-1.68-2.185-2.89-4.068-2.89h-4.001c-2.393,0-4.333,1.94-4.333,4.333c0,0.347,0.051,0.678,0.127,1 c-84.267,0-215.626,0-215.626,0c-2.475,0-6.158-1.163-8.184-2.584l-14.965-10.499c-2.026-1.42-5.709-2.583-8.184-2.583h-35 c-2.475,0-4.881,1.989-5.347,4.419l-1.309,6.828c-0.466,2.43-7.752,4.419-8.852,4.419s-1.999,2.025-1.999,4.5v45 c0,2.475,0,6.525,0,9v81c0,2.475,2.025,4.5,4.5,4.5h55.661c11.845,0,18.512-25.349,18.512-36.016v-49.484 c0-2.475,2.025-4.5,4.5-4.5h202.318c11.183,0,24.516,12,24.516,24.516v116.818h-14.464c-2.505,0-4.536,2.031-4.536,4.536v20.797 h-82.464c-2.505,0-4.536,2.031-4.536,4.536v0.131H96.756c-2.475,0-35.278-0.359-34.523,14.508 c4,78.825,26.667,88.825,26.667,88.825h202v22.667h-245.5c-2.475,0-4.5,2.025-4.5,4.5v19c0,2.475,2.025,4.5,4.5,4.5h494.333 c2.475,0,4.5-2.025,4.5-4.5v-19C544.232,427.574,542.207,425.548,539.732,425.548z',
//   'M501.487,421.214h29.579c2.475,0,5.042-1.951,5.703-4.336c0,0,5.797-20.885,5.797-51.997 c0-31.112-5.797-51.998-5.797-51.998c-0.661-2.384-3.229-4.335-5.703-4.335h-29.579V421.214z',
//   'M486.915,372.548l-14.286,28.547l-28.373-39.988l-3.049,2.164L328.755,204.792 c-4.9-6.909-11.896-11.067-19.703-11.711c-7.806-0.642-15.391,2.314-21.357,8.325l-27.13,27.335 c-0.248-0.477-0.421-0.751-0.439-0.778c-5.913-8.335-12.179-12.796-18.625-13.26c-7.139-0.514-11.676,4.159-11.867,4.358 c-1.855,1.949-4.752,5.236-6.457,7.328L99.104,378.707c-2.277,2.794-2.427,7.286-0.34,10.226l1.171,1.65l-7.212,7.266 c-0.928,0.936-1.022,2.385-0.285,3.422c0.088,0.125,0.187,0.243,0.299,0.353c0.298,0.296,0.652,0.498,1.025,0.624 c-4.39,6.915-9.245,10.836-10.452,10.685c-1.66-0.71-3.691-1.894-3.946-3.476c-0.281-1.75,1.579-3.847,2.247-4.439 c0.89-0.775,0.985-2.127,0.207-3.012c-0.774-0.889-2.123-0.984-3.012-0.208c-0.447,0.392-4.35,3.934-3.662,8.313 c0.163,1.034,0.559,1.996,1.185,2.879c1.083,1.526,2.855,2.82,5.298,3.868c6.441,2.764,15.834-12.444,16.23-13.093 c1.062-1.735,3.859-3.8,7.263-5.873l7.545,10.633c0.682,0.963,2.016,1.19,2.977,0.506c0.962-0.682,1.188-2.015,0.506-2.976 l-7.313-10.307c3.152-1.742,6.46-3.408,9.222-4.798c6.292-3.169,9.117-4.629,10.101-5.975 c2.715-3.38,102.218-104.298,126.703-129.095c8.093-8.198,8.629-16.174,7.619-21.489l29.004-29.223 c4.838-4.874,10.921-7.276,17.129-6.764c6.208,0.512,11.816,3.878,15.79,9.479l112.451,158.479l-3.918,2.781l32.655,46.02 l-1.896,3.79l4.208,13.597h19.997l10.307-44.907l5.705-3.093v-12H486.915z M102.247,386.462c-0.98-1.381-0.902-3.746,0.168-5.059 l124.074-152.315c1.646-2.021,4.446-5.198,6.239-7.081c0.033-0.034,3.316-3.416,8.468-3.042 c5.111,0.367,10.308,4.226,15.403,11.405c0.008,0.011,0.366,0.584,0.78,1.583l-154.39,155.554L102.247,386.462z M251.821,252.878 c-1.248,1.264-124.812,126.439-127.048,129.496c-0.717,0.774-5.108,2.984-8.637,4.762c-3.143,1.581-6.572,3.308-9.791,5.103 l-0.222-0.313l152.511-153.66C258.656,243.359,256.372,248.27,251.821,252.878z',
//   'M394.565,269.679c0,2.505-2.031,4.536-4.536,4.536h-2.928c-2.505,0-4.536-2.031-4.536-4.536v-3.928 c0-2.504,2.031-4.537,4.536-4.537h2.928c2.505,0,4.536,2.032,4.536,4.537V269.679z',
//   'M83.399,93.048',
//   'M121.899,299.548H96.756c-1.833,0-20.289-0.19-29.44,5.746h54.583V299.548z',
//   'M83.3,141.501c-2.035,0.603-4.071,1.732-5.979,3.64c-9.47,9.469-4.208,13.678-1.578,13.678 c2.63,0,5.824-1.876,4.208-6.313c-0.453-1.247,1.026-5.191,3.349-7.14V141.501z M76.069,156.812c-1.012,0-1.832-0.82-1.832-1.832 s0.82-1.832,1.832-1.832s1.833,0.82,1.833,1.832S77.081,156.812,76.069,156.812z'
// ];

function App() {

  const dispatch = useDispatch();

  useEffect( () => testShapes.forEach( shape => dispatch( addShape( shape ) ) ), [ dispatch ] );

  const ZoomButtons = () => <div className="zoom-buttons">
    <button onClick={ () => dispatch( toggleDark() ) }>{ useSelector( state => state.artboard ).dark ? "☼" : "☾" }</button>
    <button onClick={ () => dispatch( zoomInButton() ) }>➕</button>
    <button onClick={ () => dispatch( zoomOutButton() ) }>➖</button>
  </div>;

  return <main>
    <MainMenu />
    <ZoomButtons />
    <Artboard />
    <ArtboardMenu />
  </main>;

}

export default App;
